{"ast":null,"code":"\"use strict\";\n\nvar _taggedTemplateLiteral = require(\"/Users/taykim/Desktop/cs98/cs98_fall_demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js\").default;\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.assignDefaults = void 0;\nvar codegen_1 = require(\"../codegen\");\nvar util_1 = require(\"../util\");\nfunction assignDefaults(it, ty) {\n  var _it$schema = it.schema,\n    properties = _it$schema.properties,\n    items = _it$schema.items;\n  if (ty === \"object\" && properties) {\n    for (var key in properties) {\n      assignDefault(it, key, properties[key].default);\n    }\n  } else if (ty === \"array\" && Array.isArray(items)) {\n    items.forEach(function (sch, i) {\n      return assignDefault(it, i, sch.default);\n    });\n  }\n}\nexports.assignDefaults = assignDefaults;\nfunction assignDefault(it, prop, defaultValue) {\n  var gen = it.gen,\n    compositeRule = it.compositeRule,\n    data = it.data,\n    opts = it.opts;\n  if (defaultValue === undefined) return;\n  var childData = (0, codegen_1._)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\", \"\", \"\"])), data, (0, codegen_1.getProperty)(prop));\n  if (compositeRule) {\n    (0, util_1.checkStrictMode)(it, \"default is ignored for: \".concat(childData));\n    return;\n  }\n  var condition = (0, codegen_1._)(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\", \" === undefined\"])), childData);\n  if (opts.useDefaults === \"empty\") {\n    condition = (0, codegen_1._)(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\", \" || \", \" === null || \", \" === \\\"\\\"\"])), condition, childData, childData);\n  }\n  // `${childData} === undefined` +\n  // (opts.useDefaults === \"empty\" ? ` || ${childData} === null || ${childData} === \"\"` : \"\")\n  gen.if(condition, (0, codegen_1._)(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\", \" = \", \"\"])), childData, (0, codegen_1.stringify)(defaultValue)));\n}","map":{"version":3,"sources":["../../../lib/compile/validate/defaults.ts"],"names":[],"mappings":";;;;;;;;AACA,IAAA,SAAA,GAAA,OAAA,CAAA,YAAA,CAAA;AACA,IAAA,MAAA,GAAA,OAAA,CAAA,SAAA,CAAA;AAEA,SAAgB,cAAc,CAAC,EAAgB,EAAE,EAAW,EAAA;EAC1D,iBAA4B,EAAE,CAAC,MAAM;IAA9B,UAAU,cAAV,UAAU;IAAE,KAAK,cAAL,KAAK;EACxB,IAAI,EAAE,KAAK,QAAQ,IAAI,UAAU,EAAE;IACjC,KAAK,IAAM,GAAG,IAAI,UAAU,EAAE;MAC5B,aAAa,CAAC,EAAE,EAAE,GAAG,EAAE,UAAU,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC;IAChD;GACF,MAAM,IAAI,EAAE,KAAK,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;IACjD,KAAK,CAAC,OAAO,CAAC,UAAC,GAAG,EAAE,CAAS;MAAA,OAAK,aAAa,CAAC,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,OAAO,CAAC;IAAA,EAAC;EACrE;AACH;AATA,OAAA,CAAA,cAAA,GAAA,cAAA;AAWA,SAAS,aAAa,CAAC,EAAgB,EAAE,IAAqB,EAAE,YAAqB,EAAA;EACnF,IAAO,GAAG,GAA+B,EAAE,CAApC,GAAG;IAAE,aAAa,GAAgB,EAAE,CAA/B,aAAa;IAAE,IAAI,GAAU,EAAE,CAAhB,IAAI;IAAE,IAAI,GAAI,EAAE,CAAV,IAAI;EACrC,IAAI,YAAY,KAAK,SAAS,EAAE;EAChC,IAAM,SAAS,IAAG,CAAA,EAAA,SAAA,CAAA,CAAC,+EAAG,IAAI,EAAG,CAAA,CAAA,EAAA,SAAA,CAAA,WAAW,EAAC,IAAI,CAAC,CAAE;EAChD,IAAI,aAAa,EAAE;IACjB,CAAA,CAAA,EAAA,MAAA,CAAA,eAAe,EAAC,EAAE,oCAA6B,SAAS,EAAG;IAC3D;EACD;EAED,IAAI,SAAS,IAAG,CAAA,EAAA,SAAA,CAAA,CAAC,2FAAG,SAAS,CAAgB;EAC7C,IAAI,IAAI,CAAC,WAAW,KAAK,OAAO,EAAE;IAChC,SAAS,IAAG,CAAA,EAAA,SAAA,CAAA,CAAC,+GAAG,SAAS,EAAO,SAAS,EAAgB,SAAS,CAAS;EAC5E;EACD;EACA;EACA,GAAG,CAAC,EAAE,CAAC,SAAS,GAAE,CAAA,EAAA,SAAA,CAAA,CAAC,oFAAG,SAAS,EAAM,CAAA,CAAA,EAAA,SAAA,CAAA,SAAS,EAAC,YAAY,CAAC,EAAG;AACjE","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assignDefaults = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction assignDefaults(it, ty) {\n    const { properties, items } = it.schema;\n    if (ty === \"object\" && properties) {\n        for (const key in properties) {\n            assignDefault(it, key, properties[key].default);\n        }\n    }\n    else if (ty === \"array\" && Array.isArray(items)) {\n        items.forEach((sch, i) => assignDefault(it, i, sch.default));\n    }\n}\nexports.assignDefaults = assignDefaults;\nfunction assignDefault(it, prop, defaultValue) {\n    const { gen, compositeRule, data, opts } = it;\n    if (defaultValue === undefined)\n        return;\n    const childData = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(prop)}`;\n    if (compositeRule) {\n        (0, util_1.checkStrictMode)(it, `default is ignored for: ${childData}`);\n        return;\n    }\n    let condition = (0, codegen_1._) `${childData} === undefined`;\n    if (opts.useDefaults === \"empty\") {\n        condition = (0, codegen_1._) `${condition} || ${childData} === null || ${childData} === \"\"`;\n    }\n    // `${childData} === undefined` +\n    // (opts.useDefaults === \"empty\" ? ` || ${childData} === null || ${childData} === \"\"` : \"\")\n    gen.if(condition, (0, codegen_1._) `${childData} = ${(0, codegen_1.stringify)(defaultValue)}`);\n}\n//# sourceMappingURL=defaults.js.map"]},"metadata":{},"sourceType":"script"}