{"code":"(this[\"webpackJsonpcfa-createflow-metamask\"]=this[\"webpackJsonpcfa-createflow-metamask\"]||[]).push([[0],{142:function(e,t,n){},182:function(e,t,n){},183:function(e,t){},192:function(e,t){},259:function(e,t){},260:function(e,t){},261:function(e,t){},262:function(e,t){},263:function(e,t){},264:function(e,t){},265:function(e,t){},266:function(e,t){},270:function(e,t,n){\"use strict\";n.r(t);var a=n(10),r=n(144),c=n.n(r),o=(n(182),n(0)),s=n(8),u=n(22),i=n(36),l=n(12),d=n(166),b=n(303),j=n(299),h=n(300),f=n(96),m=n(165),p=(n(142),n(100)),O=n(11),v=[\"isLoading\",\"children\"];function x(){return(x=Object(l.a)(Object(o.a)().mark((function e(t,n){var a,r,c,s,u,i,l,b;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new p.a.providers.Web3Provider(window.ethereum),r=a.getSigner(),console.log(r._address),e.next=5,window.ethereum.request({method:\"eth_chainId\"});case 5:return c=e.sent,e.next=8,d.a.create({chainId:Number(c),provider:a});case 8:return s=e.sent,e.next=11,s.loadSuperToken(\"fDAIx\");case 11:return u=e.sent,i=u.address,e.prev=13,l=s.cfaV1.createFlow({receiver:t,flowRate:n,superToken:i}),console.log(\"Creating your stream...\"),e.next=18,l.exec(r);case 18:b=e.sent,console.log(b),console.log(\"Congrats - you've just created a money stream!\\n    View Your Stream At: https://app.superfluid.finance/dashboard/\".concat(t,\"\\n    Network: Kovan\\n    Super Token: DAIx\\n    Sender: \").concat(r._address,\",\\n    Receiver: \").concat(t,\",\\n    FlowRate: \").concat(n,\"\\n    \")),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(13),console.log(\"Hmmm, your transaction threw an error. Make sure that this stream does not already exist, and that you've entered a valid Ethereum address!\"),console.error(e.t0);case 27:case\"end\":return e.stop()}}),e,null,[[13,23]])})))).apply(this,arguments)}var g=function(){var e=Object(a.useState)(\"\"),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),o=Object(i.a)(c,2),l=o[0],d=o[1],g=Object(a.useState)(\"\"),w=Object(i.a)(g,2),k=w[0],N=w[1],y=Object(a.useState)(\"\"),S=Object(i.a)(y,2),C=S[0],I=S[1];function q(e){e.isLoading;var t=e.children,n=Object(u.a)(e,v);return Object(O.jsx)(b.a,Object(s.a)(Object(s.a)({variant:\"success\",className:\"button\"},n),{},{children:l?Object(O.jsx)(j.a,{animation:\"border\"}):t}))}return Object(O.jsxs)(\"div\",{children:[Object(O.jsx)(\"h3\",{children:\"Create New Stream\"}),Object(O.jsxs)(h.a,{children:[Object(O.jsx)(f.a,{className:\"mb-3\",children:Object(O.jsx)(m.a,{name:\"recipient\",value:n,onChange:function(e){r((function(){var t,n;return t=e.target.value,n=Object(i.a)(t,1),e.target.name=n[0],t}))},placeholder:\"Enter recipient address\"})}),Object(O.jsx)(f.a,{className:\"mb-3\",children:Object(O.jsx)(m.a,{name:\"flowRate\",value:k,onChange:function(e){N((function(){var t,n;return t=e.target.value,n=Object(i.a)(t,1),e.target.name=n[0],t}));var t=function(e){if(\"number\"===typeof Number(e)&&!0!==isNaN(Number(e))){if(\"number\"===typeof Number(e)){if(0===Number(e))return 0;var t=p.a.BigNumber.from(e);return 3600*p.a.utils.formatEther(t.toString())*24*30}}else alert(\"You can only calculate a flowRate based on a number\")}(e.target.value);I(t.toString())},placeholder:\"Enter a flowRate in wei/second\"})}),Object(O.jsx)(q,{onClick:function(){d(!0),function(e,t){x.apply(this,arguments)}(n,k),setTimeout((function(){d(!1)}),1e3)},children:\"Click to Create Your Stream\"})]}),Object(O.jsxs)(\"div\",{className:\"calculation\",children:[Object(O.jsx)(\"p\",{children:\"Your flow will be equal to:\"}),Object(O.jsxs)(\"p\",{children:[Object(O.jsxs)(\"b\",{children:[\"$\",\" \"!==C?C:0]}),\" DAIx/month\"]})]})]})},w=n(301),k=function(){var e=Object(a.useState)(\"\"),t=Object(i.a)(e,2),n=t[0],r=t[1],c=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,n,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=window,n=t.ethereum){e.next=5;break}return alert(\"Get MetaMask!\"),e.abrupt(\"return\");case 5:return e.next=7,n.request({method:\"eth_requestAccounts\"});case 7:a=e.sent,console.log(\"Connected\",a[0]),r(a[0]),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case\"end\":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,n,a,c,s,u;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,n=t.ethereum){e.next=6;break}return console.log(\"Make sure you have metamask!\"),e.abrupt(\"return\");case 6:console.log(\"We have the ethereum object\",n);case 7:return e.next=9,n.request({method:\"eth_accounts\"});case 9:return a=e.sent,e.next=12,window.ethereum.request({method:\"eth_chainId\"});case 12:c=e.sent,s=c,console.log(\"chain ID:\",c),console.log(\"global Chain Id:\",s),0!==a.length?(u=a[0],console.log(\"Found an authorized account:\",u),r(u)):console.log(\"No authorized account found\");case 17:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){s()}),[]),Object(O.jsx)(\"div\",{children:\"\"===n?Object(O.jsx)(\"button\",{id:\"connectWallet\",className:\"button\",onClick:c,children:\"Connect Wallet\"}):Object(O.jsx)(w.a,{className:\"connectedWallet\",children:\"\".concat(n.substring(0,4),\"...\").concat(n.substring(38))})})};function N(){return Object(O.jsxs)(\"div\",{className:\"App\",children:[Object(O.jsx)(k,{}),Object(O.jsx)(g,{})]})}var y=document.getElementById(\"root\");c.a.render(Object(O.jsx)(a.StrictMode,{children:Object(O.jsx)(N,{})}),y)}},[[270,1,2]]]);","name":"static/js/main.56fc3c4b.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_dom","react_dom_default","n","regeneratorRuntime","objectSpread2","objectWithoutProperties","slicedToArray","asyncToGenerator","dist_module","Button","Spinner","Form","FormGroup","FormControl","lib_esm","jsx_runtime","_excluded","_createNewFlow","Object","mark","_callee","recipient","flowRate","provider","signer","chainId","sf","DAIxContract","DAIx","createFlowOperation","result","wrap","_context","prev","next","providers","Web3Provider","window","ethereum","getSigner","console","log","_address","request","method","sent","create","Number","loadSuperToken","address","cfaV1","createFlow","receiver","superToken","exec","concat","t0","error","stop","apply","arguments","CreateFlow_CreateFlow","_useState","_useState2","setRecipient","_useState3","_useState4","isButtonLoading","setIsButtonLoading","_useState5","_useState6","setFlowRate","_useState7","_useState8","flowRateDisplay","setFlowRateDisplay","CreateButton","_ref","isLoading","children","props","variant","className","animation","name","value","onChange","e","_e$target$value","_e$target$value2","target","placeholder","_e$target$value3","_e$target$value4","newFlowRateDisplay","amount","isNaN","amountInWei","BigNumber","from","utils","formatEther","toString","alert","calculateFlowRate","onClick","_x","_x2","createNewFlow","setTimeout","Card","ConnectWallet_ConnectWallet","currentAccount","setCurrentAccount","connectWallet","_window","accounts","abrupt","checkIfWalletIsConnected","_ref2","_callee2","_window2","chain","account","_context2","length","id","substring","App","rootElement","document","getElementById","a","render"],"sources":["static/js/main.56fc3c4b.chunk.js"],"mappings":"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"},"input":"(this[\"webpackJsonpcfa-createflow-metamask\"] = this[\"webpackJsonpcfa-createflow-metamask\"] || []).push([[0],{\n\n/***/ 142:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 182:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 183:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 192:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 259:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 260:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 261:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 262:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 263:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 264:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 265:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 266:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 270:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(144);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/css/styles.css\nvar styles = __webpack_require__(182);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\nvar regeneratorRuntime = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(36);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/@superfluid-finance/sdk-core/dist/module/index.js + 93 modules\nvar dist_module = __webpack_require__(166);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Button.js + 1 modules\nvar Button = __webpack_require__(303);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Spinner.js\nvar Spinner = __webpack_require__(299);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Form.js + 12 modules\nvar Form = __webpack_require__(300);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/FormGroup.js\nvar FormGroup = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/FormControl.js\nvar FormControl = __webpack_require__(165);\n\n// EXTERNAL MODULE: ./src/css/createFlow.css\nvar createFlow = __webpack_require__(142);\n\n// EXTERNAL MODULE: ./node_modules/ethers/lib.esm/index.js + 265 modules\nvar lib_esm = __webpack_require__(100);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(11);\n\n// CONCATENATED MODULE: ./src/components/CreateFlow.js\nvar _excluded=[\"isLoading\",\"children\"];//where the Superfluid logic takes place\nfunction createNewFlow(_x,_x2){return _createNewFlow.apply(this,arguments);}function _createNewFlow(){_createNewFlow=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(recipient,flowRate){var provider,signer,chainId,sf,DAIxContract,DAIx,createFlowOperation,result;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:provider=new lib_esm[\"a\" /* ethers */].providers.Web3Provider(window.ethereum);signer=provider.getSigner();console.log(signer._address);_context.next=5;return window.ethereum.request({method:\"eth_chainId\"});case 5:chainId=_context.sent;_context.next=8;return dist_module[\"a\" /* Framework */].create({chainId:Number(chainId),provider:provider});case 8:sf=_context.sent;_context.next=11;return sf.loadSuperToken(\"fDAIx\");case 11:DAIxContract=_context.sent;DAIx=DAIxContract.address;_context.prev=13;createFlowOperation=sf.cfaV1.createFlow({receiver:recipient,flowRate:flowRate,superToken:DAIx// userData?: string\n});console.log(\"Creating your stream...\");_context.next=18;return createFlowOperation.exec(signer);case 18:result=_context.sent;console.log(result);console.log(\"Congrats - you've just created a money stream!\\n    View Your Stream At: https://app.superfluid.finance/dashboard/\".concat(recipient,\"\\n    Network: Kovan\\n    Super Token: DAIx\\n    Sender: \").concat(signer._address,\",\\n    Receiver: \").concat(recipient,\",\\n    FlowRate: \").concat(flowRate,\"\\n    \"));_context.next=27;break;case 23:_context.prev=23;_context.t0=_context[\"catch\"](13);console.log(\"Hmmm, your transaction threw an error. Make sure that this stream does not already exist, and that you've entered a valid Ethereum address!\");console.error(_context.t0);case 27:case\"end\":return _context.stop();}}},_callee,null,[[13,23]]);}));return _createNewFlow.apply(this,arguments);}var CreateFlow_CreateFlow=function CreateFlow(){var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),recipient=_useState2[0],setRecipient=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isButtonLoading=_useState4[0],setIsButtonLoading=_useState4[1];var _useState5=Object(react[\"useState\"])(\"\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),flowRate=_useState6[0],setFlowRate=_useState6[1];var _useState7=Object(react[\"useState\"])(\"\"),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),flowRateDisplay=_useState8[0],setFlowRateDisplay=_useState8[1];function calculateFlowRate(amount){if(typeof Number(amount)!==\"number\"||isNaN(Number(amount))===true){alert(\"You can only calculate a flowRate based on a number\");return;}else if(typeof Number(amount)===\"number\"){if(Number(amount)===0){return 0;}var amountInWei=lib_esm[\"a\" /* ethers */].BigNumber.from(amount);var monthlyAmount=lib_esm[\"a\" /* ethers */].utils.formatEther(amountInWei.toString());var calculatedFlowRate=monthlyAmount*3600*24*30;return calculatedFlowRate;}}function CreateButton(_ref){var isLoading=_ref.isLoading,children=_ref.children,props=Object(objectWithoutProperties[\"a\" /* default */])(_ref,_excluded);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({variant:\"success\",className:\"button\"},props),{},{children:isButtonLoading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Spinner[\"a\" /* default */],{animation:\"border\"}):children}));}var handleRecipientChange=function handleRecipientChange(e){setRecipient(function(){var _e$target$value,_e$target$value2;return _e$target$value=e.target.value,_e$target$value2=Object(slicedToArray[\"a\" /* default */])(_e$target$value,1),e.target.name=_e$target$value2[0],_e$target$value;});};var handleFlowRateChange=function handleFlowRateChange(e){setFlowRate(function(){var _e$target$value3,_e$target$value4;return _e$target$value3=e.target.value,_e$target$value4=Object(slicedToArray[\"a\" /* default */])(_e$target$value3,1),e.target.name=_e$target$value4[0],_e$target$value3;});var newFlowRateDisplay=calculateFlowRate(e.target.value);setFlowRateDisplay(newFlowRateDisplay.toString());};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Create New Stream\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormGroup[\"a\" /* default */],{className:\"mb-3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormControl[\"a\" /* default */],{name:\"recipient\",value:recipient,onChange:handleRecipientChange,placeholder:\"Enter recipient address\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormGroup[\"a\" /* default */],{className:\"mb-3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormControl[\"a\" /* default */],{name:\"flowRate\",value:flowRate,onChange:handleFlowRateChange,placeholder:\"Enter a flowRate in wei/second\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CreateButton,{onClick:function onClick(){setIsButtonLoading(true);createNewFlow(recipient,flowRate);setTimeout(function(){setIsButtonLoading(false);},1000);},children:\"Click to Create Your Stream\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"calculation\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Your flow will be equal to:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"b\",{children:[\"$\",flowRateDisplay!==\" \"?flowRateDisplay:0]}),\" DAIx/month\"]})]})]});};\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Card.js + 4 modules\nvar Card = __webpack_require__(301);\n\n// CONCATENATED MODULE: ./src/components/ConnectWallet.js\nvar ConnectWallet_ConnectWallet=function ConnectWallet(){var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),currentAccount=_useState2[0],setCurrentAccount=_useState2[1];var connectWallet=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(){var _window,ethereum,accounts;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_window=window,ethereum=_window.ethereum;if(ethereum){_context.next=5;break;}alert(\"Get MetaMask!\");return _context.abrupt(\"return\");case 5:_context.next=7;return ethereum.request({method:\"eth_requestAccounts\"});case 7:accounts=_context.sent;console.log(\"Connected\",accounts[0]);setCurrentAccount(accounts[0]);// let account = currentAccount;\n// Setup listener! This is for the case where a user comes to our site\n// and connected their wallet for the first time.\n// setupEventListener()\n_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return function connectWallet(){return _ref.apply(this,arguments);};}();var checkIfWalletIsConnected=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee2(){var _window2,ethereum,accounts,chain,chainId,account;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_window2=window,ethereum=_window2.ethereum;if(ethereum){_context2.next=6;break;}console.log(\"Make sure you have metamask!\");return _context2.abrupt(\"return\");case 6:console.log(\"We have the ethereum object\",ethereum);case 7:_context2.next=9;return ethereum.request({method:\"eth_accounts\"});case 9:accounts=_context2.sent;_context2.next=12;return window.ethereum.request({method:\"eth_chainId\"});case 12:chain=_context2.sent;chainId=chain;console.log(\"chain ID:\",chain);console.log(\"global Chain Id:\",chainId);if(accounts.length!==0){account=accounts[0];console.log(\"Found an authorized account:\",account);setCurrentAccount(account);// Setup listener! This is for the case where a user comes to our site\n// and ALREADY had their wallet connected + authorized.\n// setupEventListener()\n}else{console.log(\"No authorized account found\");}case 17:case\"end\":return _context2.stop();}}},_callee2);}));return function checkIfWalletIsConnected(){return _ref2.apply(this,arguments);};}();Object(react[\"useEffect\"])(function(){checkIfWalletIsConnected();},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:currentAccount===\"\"?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{id:\"connectWallet\",className:\"button\",onClick:connectWallet,children:\"Connect Wallet\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */],{className:\"connectedWallet\",children:\"\".concat(currentAccount.substring(0,4),\"...\").concat(currentAccount.substring(38))})});};\n// CONCATENATED MODULE: ./src/App.js\nfunction App(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"App\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ConnectWallet_ConnectWallet,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CreateFlow_CreateFlow,{})]});}\n// CONCATENATED MODULE: ./src/index.js\nvar rootElement=document.getElementById(\"root\");react_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react[\"StrictMode\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App,{})}),rootElement);\n\n/***/ })\n\n},[[270,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/taykim/Desktop/cs98/project-22f-zk-vote/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/taykim/Desktop/cs98/project-22f-zk-vote/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/taykim/Desktop/cs98/project-22f-zk-vote/node_modules/postcss-loader/src/index.js??postcss!/Users/taykim/Desktop/cs98/project-22f-zk-vote/src/css/createFlow.css","/Users/taykim/Desktop/cs98/project-22f-zk-vote/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/taykim/Desktop/cs98/project-22f-zk-vote/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/taykim/Desktop/cs98/project-22f-zk-vote/node_modules/postcss-loader/src/index.js??postcss!/Users/taykim/Desktop/cs98/project-22f-zk-vote/src/css/styles.css","ignored /Users/taykim/Desktop/cs98/project-22f-zk-vote/node_modules/@ethersproject/signing-key/node_modules/bn.js/lib buffer","ignored /Users/taykim/Desktop/cs98/project-22f-zk-vote/node_modules/@ethersproject/bignumber/node_modules/bn.js/lib buffer","ignored /Users/taykim/Desktop/cs98/project-22f-zk-vote/node_modules/bn.js/lib buffer","ignored /Users/taykim/Desktop/cs98/project-22f-zk-vote/node_modules/ethers/node_modules/@ethersproject/constants/node_modules/bn.js/lib buffer","ignored /Users/taykim/Desktop/cs98/project-22f-zk-vote/node_modules/ethers/node_modules/@ethersproject/abi/node_modules/bn.js/lib buffer","ignored /Users/taykim/Desktop/cs98/project-22f-zk-vote/node_modules/ethers/node_modules/@ethersproject/hdnode/node_modules/bn.js/lib buffer","ignored /Users/taykim/Desktop/cs98/project-22f-zk-vote/node_modules/ethers/node_modules/@ethersproject/hash/node_modules/bn.js/lib buffer","ignored /Users/taykim/Desktop/cs98/project-22f-zk-vote/node_modules/ethers/node_modules/@ethersproject/address/node_modules/bn.js/lib buffer","ignored /Users/taykim/Desktop/cs98/project-22f-zk-vote/node_modules/ethers/node_modules/@ethersproject/transactions/node_modules/bn.js/lib buffer","ignored /Users/taykim/Desktop/cs98/project-22f-zk-vote/node_modules/ethers/node_modules/@ethersproject/json-wallets/node_modules/bn.js/lib buffer","/Users/taykim/Desktop/cs98/project-22f-zk-vote/src/components/CreateFlow.js","/Users/taykim/Desktop/cs98/project-22f-zk-vote/src/components/ConnectWallet.js","/Users/taykim/Desktop/cs98/project-22f-zk-vote/src/App.js","/Users/taykim/Desktop/cs98/project-22f-zk-vote/src/index.js"],"names":["createNewFlow","recipient","flowRate","provider","ethers","providers","Web3Provider","window","ethereum","signer","getSigner","console","log","_address","request","method","chainId","Framework","create","Number","sf","loadSuperToken","DAIxContract","DAIx","address","createFlowOperation","cfaV1","createFlow","receiver","superToken","exec","result","error","CreateFlow","useState","setRecipient","isButtonLoading","setIsButtonLoading","setFlowRate","flowRateDisplay","setFlowRateDisplay","calculateFlowRate","amount","isNaN","alert","amountInWei","BigNumber","from","monthlyAmount","utils","formatEther","toString","calculatedFlowRate","CreateButton","isLoading","children","props","handleRecipientChange","e","target","value","name","handleFlowRateChange","newFlowRateDisplay","setTimeout","ConnectWallet","currentAccount","setCurrentAccount","connectWallet","accounts","checkIfWalletIsConnected","chain","length","account","useEffect","substring","App","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","import React, { useState } from \"react\";\nimport { Framework } from \"@superfluid-finance/sdk-core\";\nimport {\n  Button,\n  Form,\n  FormGroup,\n  FormControl,\n  Spinner,\n} from \"react-bootstrap\";\nimport \"../css/createFlow.css\";\nimport { ethers } from \"ethers\";\n\n//where the Superfluid logic takes place\nasync function createNewFlow(recipient, flowRate) {\n  const provider = new ethers.providers.Web3Provider(window.ethereum);\n\n  const signer = provider.getSigner();\n\n  console.log(signer._address);\n  \n  const chainId = await window.ethereum.request({ method: \"eth_chainId\" });\n  const sf = await Framework.create({\n    chainId: Number(chainId),\n    provider: provider\n  });\n\n  const DAIxContract = await sf.loadSuperToken(\"fDAIx\");\n  const DAIx = DAIxContract.address;\n\n  try {\n    const createFlowOperation = sf.cfaV1.createFlow({\n      receiver: recipient,\n      flowRate: flowRate,\n      superToken: DAIx\n      // userData?: string\n    });\n\n    console.log(\"Creating your stream...\");\n\n    const result = await createFlowOperation.exec(signer);\n    console.log(result);\n\n    console.log(\n      `Congrats - you've just created a money stream!\n    View Your Stream At: https://app.superfluid.finance/dashboard/${recipient}\n    Network: Kovan\n    Super Token: DAIx\n    Sender: ${signer._address},\n    Receiver: ${recipient},\n    FlowRate: ${flowRate}\n    `\n    );\n  } catch (error) {\n    console.log(\n      \"Hmmm, your transaction threw an error. Make sure that this stream does not already exist, and that you've entered a valid Ethereum address!\"\n    );\n    console.error(error);\n  }\n}\n\nexport const CreateFlow = () => {\n  const [recipient, setRecipient] = useState(\"\");\n  const [isButtonLoading, setIsButtonLoading] = useState(false);\n  const [flowRate, setFlowRate] = useState(\"\");\n  const [flowRateDisplay, setFlowRateDisplay] = useState(\"\");\n\n  function calculateFlowRate(amount) {\n    if (typeof Number(amount) !== \"number\" || isNaN(Number(amount)) === true) {\n      alert(\"You can only calculate a flowRate based on a number\");\n      return;\n    } else if (typeof Number(amount) === \"number\") {\n      if (Number(amount) === 0) {\n        return 0;\n      }\n      const amountInWei = ethers.BigNumber.from(amount);\n      const monthlyAmount = ethers.utils.formatEther(amountInWei.toString());\n      const calculatedFlowRate = monthlyAmount * 3600 * 24 * 30;\n      return calculatedFlowRate;\n    }\n  }\n\n  function CreateButton({ isLoading, children, ...props }) {\n    return (\n      <Button variant=\"success\" className=\"button\" {...props}>\n        {isButtonLoading ? <Spinner animation=\"border\" /> : children}\n      </Button>\n    );\n  }\n\n  const handleRecipientChange = (e) => {\n    setRecipient(() => ([e.target.name] = e.target.value));\n  };\n\n  const handleFlowRateChange = (e) => {\n    setFlowRate(() => ([e.target.name] = e.target.value));\n    let newFlowRateDisplay = calculateFlowRate(e.target.value);\n    setFlowRateDisplay(newFlowRateDisplay.toString());\n  };\n\n  return (\n    <div>\n      <h3>Create New Stream</h3>\n      <Form>\n        <FormGroup className=\"mb-3\">\n          <FormControl\n            name=\"recipient\"\n            value={recipient}\n            onChange={handleRecipientChange}\n            placeholder=\"Enter recipient address\"\n          ></FormControl>\n        </FormGroup>\n        <FormGroup className=\"mb-3\">\n          <FormControl\n            name=\"flowRate\"\n            value={flowRate}\n            onChange={handleFlowRateChange}\n            placeholder=\"Enter a flowRate in wei/second\"\n          ></FormControl>\n        </FormGroup>\n        <CreateButton\n          onClick={() => {\n            setIsButtonLoading(true);\n            createNewFlow(recipient, flowRate);\n            setTimeout(() => {\n              setIsButtonLoading(false);\n            }, 1000);\n          }}\n        >\n          Click to Create Your Stream\n        </CreateButton>\n      </Form>\n\n      <div className=\"calculation\">\n        <p>Your flow will be equal to:</p>\n        <p>\n          <b>${flowRateDisplay !== \" \" ? flowRateDisplay : 0}</b> DAIx/month\n        </p>\n      </div>\n      \n    </div>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport \"../css/createFlow.css\";\n\nexport const ConnectWallet = () => {\n  const [currentAccount, setCurrentAccount] = useState(\"\");\n  const connectWallet = async () => {\n    try {\n      const { ethereum } = window;\n\n      if (!ethereum) {\n        alert(\"Get MetaMask!\");\n        return;\n      }\n      const accounts = await ethereum.request({\n        method: \"eth_requestAccounts\"\n      });\n      console.log(\"Connected\", accounts[0]);\n      setCurrentAccount(accounts[0]);\n      // let account = currentAccount;\n      // Setup listener! This is for the case where a user comes to our site\n      // and connected their wallet for the first time.\n      // setupEventListener()\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const checkIfWalletIsConnected = async () => {\n    const { ethereum } = window;\n\n    if (!ethereum) {\n      console.log(\"Make sure you have metamask!\");\n      return;\n    } else {\n      console.log(\"We have the ethereum object\", ethereum);\n    }\n\n    const accounts = await ethereum.request({ method: \"eth_accounts\" });\n    const chain = await window.ethereum.request({ method: \"eth_chainId\" });\n    let chainId = chain;\n    console.log(\"chain ID:\", chain);\n    console.log(\"global Chain Id:\", chainId);\n    if (accounts.length !== 0) {\n      const account = accounts[0];\n      console.log(\"Found an authorized account:\", account);\n      setCurrentAccount(account);\n      // Setup listener! This is for the case where a user comes to our site\n      // and ALREADY had their wallet connected + authorized.\n      // setupEventListener()\n    } else {\n      console.log(\"No authorized account found\");\n    }\n  };\n\n  useEffect(() => {\n    checkIfWalletIsConnected();\n  }, []);\n\n  return(\n  <div>\n      {currentAccount === \"\" ? (\n        <button id=\"connectWallet\" className=\"button\" onClick={connectWallet}>\n          Connect Wallet\n        </button>\n      ) : (\n        <Card className=\"connectedWallet\">\n          {`${currentAccount.substring(0, 4)}...${currentAccount.substring(38)}`}\n        </Card>\n      )}\n  </div>\n  );\n};","import \"./css/styles.css\";\n\nimport { CreateFlow } from \"./components/CreateFlow\";\nimport { ConnectWallet } from \"./components/ConnectWallet\";\n\nexport default function App() {\n  return (\n    <div className=\"App\">\n      <ConnectWallet />\n      <CreateFlow />\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"]}}